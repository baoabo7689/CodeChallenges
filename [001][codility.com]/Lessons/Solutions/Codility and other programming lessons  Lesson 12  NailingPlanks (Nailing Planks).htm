<!DOCTYPE html>
<html class="v2" dir="ltr"><head>
<link href="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/73244247-css_bundle_v2.css" rel="stylesheet" type="text/css">
<meta content="width=1100" name="viewport">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="blogger" name="generator">
<link href="http://codility-lessons.blogspot.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Codility and other programming lessons - Atom" href="http://codility-lessons.blogspot.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Codility and other programming lessons - RSS" href="http://codility-lessons.blogspot.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Codility and other programming lessons - Atom" href="https://www.blogger.com/feeds/8617569552440479380/posts/default">

<link rel="alternate" type="application/atom+xml" title="Codility and other programming lessons - Atom" href="http://codility-lessons.blogspot.com/feeds/4594736300715258775/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/3858758734-ieretrofit.js"></script>
<![endif]-->
<link href="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-243_002.png" rel="image_src">
<meta content="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html" property="og:url">
<meta content="Lesson 12:  NailingPlanks (Nailing Planks)" property="og:title">
<meta content="Lesson 12: &nbsp;NailingPlanks  https://codility.com/programmers/lessons/12   This is a tough question, so let's do&nbsp;this step-by-step.  First the..." property="og:description">
<meta content="http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/w1200-h630-p-k-no-nu/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png" property="og:image">
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Codility and other programming lessons: Lesson 12:  NailingPlanks (Nailing Planks)</title>
<style id="page-skin-1" type="text/css"><!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Simple
Designer: Blogger
URL:      www.blogger.com
----------------------------------------------- */

/* Content
----------------------------------------------- */
body {
font: normal normal 12px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #222222;
background: #eeaa00 none repeat scroll top left;
padding: 0 40px 40px 40px;
}
html body .region-inner {
min-width: 0;
max-width: 100%;
width: auto;
}
h2 {
font-size: 22px;
}
a:link {
text-decoration:none;
color: #cc6611;
}
a:visited {
text-decoration:none;
color: #888888;
}
a:hover {
text-decoration:underline;
color: #ff9900;
}
.body-fauxcolumn-outer .fauxcolumn-inner {
background: transparent url(https://resources.blogblog.com/blogblog/data/1kt/simple/body_gradient_tile_light.png) repeat scroll top left;
_background-image: none;
}
.body-fauxcolumn-outer .cap-top {
position: absolute;
z-index: 1;
height: 400px;
width: 100%;
}
.body-fauxcolumn-outer .cap-top .cap-left {
width: 100%;
background: transparent url(https://resources.blogblog.com/blogblog/data/1kt/simple/gradients_light.png) repeat-x scroll top left;
_background-image: none;
}
.content-outer {
-moz-box-shadow: 0 0 40px rgba(0, 0, 0, .15);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, .15);
-goog-ms-box-shadow: 0 0 10px #333333;
box-shadow: 0 0 40px rgba(0, 0, 0, .15);
margin-bottom: 1px;
}
.content-inner {
padding: 10px 10px;
}
.content-inner {
background-color: #ffffff;
}
/* Header
----------------------------------------------- */
.header-outer {
background: #cc6611 url(//www.blogblog.com/1kt/simple/gradients_light.png) repeat-x scroll 0 -400px;
_background-image: none;
}
.Header h1 {
font: normal normal 60px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #ffffff;
text-shadow: 1px 2px 3px rgba(0, 0, 0, .2);
}
.Header h1 a {
color: #ffffff;
}
.Header .description {
font-size: 140%;
color: #ffffff;
}
.header-inner .Header .titlewrapper {
padding: 22px 30px;
}
.header-inner .Header .descriptionwrapper {
padding: 0 30px;
}
/* Tabs
----------------------------------------------- */
.tabs-inner .section:first-child {
border-top: 0 solid #eeeeee;
}
.tabs-inner .section:first-child ul {
margin-top: -0;
border-top: 0 solid #eeeeee;
border-left: 0 solid #eeeeee;
border-right: 0 solid #eeeeee;
}
.tabs-inner .widget ul {
background: #f5f5f5 url(https://resources.blogblog.com/blogblog/data/1kt/simple/gradients_light.png) repeat-x scroll 0 -800px;
_background-image: none;
border-bottom: 1px solid #eeeeee;
margin-top: 0;
margin-left: -30px;
margin-right: -30px;
}
.tabs-inner .widget li a {
display: inline-block;
padding: .6em 1em;
font: normal normal 14px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #999999;
border-left: 1px solid #ffffff;
border-right: 1px solid #eeeeee;
}
.tabs-inner .widget li:first-child a {
border-left: none;
}
.tabs-inner .widget li.selected a, .tabs-inner .widget li a:hover {
color: #000000;
background-color: #eeeeee;
text-decoration: none;
}
/* Columns
----------------------------------------------- */
.main-outer {
border-top: 0 solid #eeeeee;
}
.fauxcolumn-left-outer .fauxcolumn-inner {
border-right: 1px solid #eeeeee;
}
.fauxcolumn-right-outer .fauxcolumn-inner {
border-left: 1px solid #eeeeee;
}
/* Headings
----------------------------------------------- */
div.widget > h2,
div.widget h2.title {
margin: 0 0 1em 0;
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
color: #000000;
}
/* Widgets
----------------------------------------------- */
.widget .zippy {
color: #999999;
text-shadow: 2px 2px 1px rgba(0, 0, 0, .1);
}
.widget .popular-posts ul {
list-style: none;
}
/* Posts
----------------------------------------------- */
h2.date-header {
font: normal bold 11px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
}
.date-header span {
background-color: transparent;
color: #222222;
padding: inherit;
letter-spacing: inherit;
margin: inherit;
}
.main-inner {
padding-top: 30px;
padding-bottom: 30px;
}
.main-inner .column-center-inner {
padding: 0 15px;
}
.main-inner .column-center-inner .section {
margin: 0 15px;
}
.post {
margin: 0 0 25px 0;
}
h3.post-title, .comments h4 {
font: normal normal 22px Arial, Tahoma, Helvetica, FreeSans, sans-serif;
margin: .75em 0 0;
}
.post-body {
font-size: 110%;
line-height: 1.4;
position: relative;
}
.post-body img, .post-body .tr-caption-container, .Profile img, .Image img,
.BlogList .item-thumbnail img {
padding: 2px;
background: #ffffff;
border: 1px solid #eeeeee;
-moz-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
-webkit-box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
box-shadow: 1px 1px 5px rgba(0, 0, 0, .1);
}
.post-body img, .post-body .tr-caption-container {
padding: 5px;
}
.post-body .tr-caption-container {
color: #222222;
}
.post-body .tr-caption-container img {
padding: 0;
background: transparent;
border: none;
-moz-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
-webkit-box-shadow: 0 0 0 rgba(0, 0, 0, .1);
box-shadow: 0 0 0 rgba(0, 0, 0, .1);
}
.post-header {
margin: 0 0 1.5em;
line-height: 1.6;
font-size: 90%;
}
.post-footer {
margin: 20px -2px 0;
padding: 5px 10px;
color: #666666;
background-color: #f9f9f9;
border-bottom: 1px solid #eeeeee;
line-height: 1.6;
font-size: 90%;
}
#comments .comment-author {
padding-top: 1.5em;
border-top: 1px solid #eeeeee;
background-position: 0 1.5em;
}
#comments .comment-author:first-child {
padding-top: 0;
border-top: none;
}
.avatar-image-container {
margin: .2em 0 0;
}
#comments .avatar-image-container img {
border: 1px solid #eeeeee;
}
/* Comments
----------------------------------------------- */
.comments .comments-content .icon.blog-author {
background-repeat: no-repeat;
background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
}
.comments .comments-content .loadmore a {
border-top: 1px solid #999999;
border-bottom: 1px solid #999999;
}
.comments .comment-thread.inline-thread {
background-color: #f9f9f9;
}
.comments .continue {
border-top: 2px solid #999999;
}
/* Accents
---------------------------------------------- */
.section-columns td.columns-cell {
border-left: 1px solid #eeeeee;
}
.blog-pager {
background: transparent none no-repeat scroll top center;
}
.blog-pager-older-link, .home-link,
.blog-pager-newer-link {
background-color: #ffffff;
padding: 5px;
}
.footer-outer {
border-top: 0 dashed #bbbbbb;
}
/* Mobile
----------------------------------------------- */
body.mobile  {
background-size: auto;
}
.mobile .body-fauxcolumn-outer {
background: transparent none repeat scroll top left;
}
.mobile .body-fauxcolumn-outer .cap-top {
background-size: 100% auto;
}
.mobile .content-outer {
-webkit-box-shadow: 0 0 3px rgba(0, 0, 0, .15);
box-shadow: 0 0 3px rgba(0, 0, 0, .15);
}
.mobile .tabs-inner .widget ul {
margin-left: 0;
margin-right: 0;
}
.mobile .post {
margin: 0;
}
.mobile .main-inner .column-center-inner .section {
margin: 0;
}
.mobile .date-header span {
padding: 0.1em 10px;
margin: 0 -10px;
}
.mobile h3.post-title {
margin: 0;
}
.mobile .blog-pager {
background: transparent none no-repeat scroll top center;
}
.mobile .footer-outer {
border-top: none;
}
.mobile .main-inner, .mobile .footer-inner {
background-color: #ffffff;
}
.mobile-index-contents {
color: #222222;
}
.mobile-link-button {
background-color: #cc6611;
}
.mobile-link-button a:link, .mobile-link-button a:visited {
color: #ffffff;
}
.mobile .tabs-inner .section:first-child {
border-top: none;
}
.mobile .tabs-inner .PageList .widget-content {
background-color: #eeeeee;
color: #000000;
border-top: 1px solid #eeeeee;
border-bottom: 1px solid #eeeeee;
}
.mobile .tabs-inner .PageList .widget-content .pagelist-arrow {
border-left: 1px solid #eeeeee;
}

--></style>
<style id="template-skin-1" type="text/css"><!--
body {
min-width: 960px;
}
.content-outer, .content-fauxcolumn-outer, .region-inner {
min-width: 960px;
max-width: 960px;
_width: 960px;
}
.main-inner .columns {
padding-left: 0px;
padding-right: 310px;
}
.main-inner .fauxcolumn-center-outer {
left: 0px;
right: 310px;
/* IE6 does not respect left and right together */
_width: expression(this.parentNode.offsetWidth -
parseInt("0px") -
parseInt("310px") + 'px');
}
.main-inner .fauxcolumn-left-outer {
width: 0px;
}
.main-inner .fauxcolumn-right-outer {
width: 310px;
}
.main-inner .column-left-outer {
width: 0px;
right: 100%;
margin-left: -0px;
}
.main-inner .column-right-outer {
width: 310px;
margin-right: -310px;
}
#layout {
min-width: 0;
}
#layout .content-outer {
min-width: 0;
width: 800px;
}
#layout .region-inner {
min-width: 0;
width: auto;
}
body#layout div.add_widget {
padding: 8px;
}
body#layout div.add_widget a {
margin-left: 32px;
}
--></style>
<link href="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/authorization.css" media="all" onload="if(media!='all')media='all'" rel="stylesheet"><noscript><link href='https://www.blogger.com/dyn-css/authorization.css?targetBlogID=8617569552440479380&amp;zx=a835b1b8-a9d9-469f-866a-ed370c96a295' rel='stylesheet'/></noscript>
<script src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/cbgapi.loaded_2" async=""></script><script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/google_top_exp.js"></script><style>.gc-bubbleDefault{background-color:transparent !important;text-align:left;padding:0 !important;margin:0 !important;border:0 !important;table-layout:auto !important}.gc-reset{background-color:transparent !important;border:0 !important;padding:0 !important;margin:0 !important;text-align:left}.pls-bubbleTop{border-bottom:1px solid #ccc !important}.pls-topTail,.pls-vertShimLeft,.pls-contentLeft{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/border_3.gif) !important}.pls-topTail{background-repeat:repeat-x !important;background-position:bottom !important}.pls-vertShim{background-color:#fff !important;text-align:right}.tbl-grey .pls-vertShim{background-color:#f5f5f5 !important}.pls-vertShimLeft{background-repeat:repeat-y !important;background-position:right !important;height:4px}.pls-vertShimRight{height:4px}.pls-confirm-container .pls-vertShim{background-color:#fff3c2 !important}.pls-contentWrap{background-color:#fff !important;position:relative !important;vertical-align:top}.pls-contentLeft{background-repeat:repeat-y;background-position:right;vertical-align:top}.pls-dropRight{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropR_3.png) !important;background-repeat:repeat-y !important;vertical-align:top}.pls-vert,.pls-tailleft,.pls-dropTR .pls-dropBR,.pls-dropBL,.pls-vert img{vertical-align:top}.pls-dropBottom{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleDropB_3.png) !important;background-repeat:repeat-x !important;width:100%;vertical-align:top}.pls-topLeft{background:inherit !important;text-align:right;vertical-align:bottom}.pls-topRight{background:inherit !important;text-align:left;vertical-align:bottom}.pls-bottomLeft{background:inherit !important;text-align:right}.pls-bottomRight{background:inherit !important;text-align:left;vertical-align:top}.pls-tailtop,.pls-tailright,.pls-tailbottom,.pls-tailleft{display:none;position:relative}.pls-tailbottom,.pls-tailtop,.pls-tailright,.pls-tailleft,.pls-dropTR,.pls-dropBR,.pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite_3.png) !important;background-repeat:no-repeat}.tbl-grey .pls-tailbottom,.tbl-grey .pls-tailtop,.tbl-grey .pls-tailright,.tbl-grey .pls-tailleft,.tbl-grey .pls-dropTR,.tbl-grey .pls-dropBR,.tbl-grey .pls-dropBL{background-image:url(//ssl.gstatic.com/s2/oz/images/stars/po/bubblev1/bubbleSprite-grey.png) !important}.pls-tailbottom{background-position:-23px 0}.pls-confirm-container .pls-tailbottom{background-position:-23px -10px}.pls-tailtop{background-position:-19px -20px}.pls-tailright{background-position:0 0}.pls-tailleft{background-position:-10px 0}.pls-tailtop{vertical-align:top}.gc-bubbleDefault td{line-height:0;font-size:0}.pls-topLeft img,.pls-topRight img,.pls-tailbottom{vertical-align:bottom}.pls-bottomLeft img,.bubbleDropTR,.pls-dropBottomL img,.pls-dropBottom img,.pls-dropBottomR img,.pls-bottomLeft{vertical-align:top}.pls-dropTR{background-position:0 -22px}.pls-dropBR{background-position:0 -27px}.pls-dropBL{background-position:0 -16px}.pls-spacertop,.pls-spacerright,.pls-spacerbottom,.pls-spacerleft{position:static !important}.pls-spinner{bottom:0;position:absolute;left:0;margin:auto;right:0;top:0} </style></head>
<body class=" variant-bold">
<div class="navbar section" id="navbar" name="Navbar"><div class="widget Navbar" data-version="1" id="Navbar1"><script src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/cbgapi.loaded_1" async=""></script><script src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/cbgapi.loaded_0" async=""></script><script type="text/javascript">
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener('load',
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script>
<div id="navbar-iframe-container"><iframe ng-non-bindable="" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="" tabindex="0" vspace="0" id="navbar-iframe" name="navbar-iframe" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/navbar.htm" width="100%" frameborder="0"></iframe></div>
<script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/plusone.js" gapi_processed="true"></script>
<script type="text/javascript">
      gapi.load("gapi.iframes:gapi.iframes.style.bubble", function() {
        if (gapi.iframes && gapi.iframes.getContext) {
          gapi.iframes.getContext().openChild({
              url: 'https://www.blogger.com/navbar.g?targetBlogID\x3d8617569552440479380\x26blogName\x3dCodility+and+other+programming+lessons\x26publishMode\x3dPUBLISH_MODE_BLOGSPOT\x26navbarType\x3dLIGHT\x26layoutType\x3dLAYOUTS\x26searchRoot\x3dhttp://codility-lessons.blogspot.com/search\x26blogLocale\x3dja\x26v\x3d2\x26homepageUrl\x3dhttp://codility-lessons.blogspot.com/\x26targetPostID\x3d4594736300715258775\x26blogPostOrPageUrl\x3dhttp://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html\x26vt\x3d1786949416799897633',
              where: document.getElementById("navbar-iframe-container"),
              id: "navbar-iframe"
          });
        }
      });
    </script><script type="text/javascript">
(function() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = '//pagead2.googlesyndication.com/pagead/js/google_top_exp.js';
var head = document.getElementsByTagName('head')[0];
if (head) {
head.appendChild(script);
}})();
</script>
</div></div>
<div class="body-fauxcolumns">
<div class="fauxcolumn-outer body-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content">
<div class="content-fauxcolumns">
<div class="fauxcolumn-outer content-fauxcolumn-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<div class="content-outer">
<div class="content-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left content-fauxborder-left">
<div class="fauxborder-right content-fauxborder-right"></div>
<div class="content-inner">
<header>
<div class="header-outer">
<div class="header-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left header-fauxborder-left">
<div class="fauxborder-right header-fauxborder-right"></div>
<div class="region-inner header-inner">
<div class="header section" id="header" name="ヘッダー"><div class="widget Header" data-version="1" id="Header1">
<div id="header-inner">
<div class="titlewrapper">
<h1 class="title">
<a href="http://codility-lessons.blogspot.com/">
Codility and other programming lessons
</a>
</h1>
</div>
<div class="descriptionwrapper">
<p class="description"><span>
</span></p>
</div>
</div>
</div></div>
</div>
</div>
<div class="header-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</header>
<div class="tabs-outer">
<div class="tabs-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left tabs-fauxborder-left">
<div class="fauxborder-right tabs-fauxborder-right"></div>
<div class="region-inner tabs-inner">
<div class="tabs no-items section" id="crosscol" name="Cross-Column"></div>
<div class="tabs no-items section" id="crosscol-overflow" name="Cross-Column 2"></div>
</div>
</div>
<div class="tabs-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="main-outer">
<div class="main-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left main-fauxborder-left">
<div class="fauxborder-right main-fauxborder-right"></div>
<div class="region-inner main-inner">
<div class="columns fauxcolumns">
<div class="fauxcolumn-outer fauxcolumn-center-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-left-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<div class="fauxcolumn-outer fauxcolumn-right-outer">
<div class="cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left">
<div class="fauxborder-right"></div>
<div class="fauxcolumn-inner">
</div>
</div>
<div class="cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<!-- corrects IE6 width calculation -->
<div class="columns-inner">
<div class="column-center-outer">
<div class="column-center-inner">
<div class="main section" id="main" name="メイン"><div class="widget Blog" data-version="1" id="Blog1">
<div class="blog-posts hfeed">

          <div class="date-outer">
        
<h2 class="date-header"><span>2015年3月24日火曜日</span></h2>

          <div class="date-posts">
        
<div class="post-outer">
<div class="post hentry uncustomized-post-template" itemprop="blogPost" itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
<meta content="http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png" itemprop="image_url">
<meta content="8617569552440479380" itemprop="blogId">
<meta content="4594736300715258775" itemprop="postId">
<a name="4594736300715258775"></a>
<h3 class="post-title entry-title" itemprop="name">
Lesson 12:  NailingPlanks (Nailing Planks)
</h3>
<div class="post-header">
<div class="post-header-line-1"></div>
</div>
<div class="post-body entry-content" id="post-body-4594736300715258775" itemprop="description articleBody">
<span style="font-family: Courier New, Courier, monospace;">Lesson 12: &nbsp;NailingPlanks</span><br>
<span style="font-family: Courier New, Courier, monospace;"><a href="https://codility.com/programmers/lessons/12">https://codility.com/programmers/lessons/12</a></span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">This is a tough question, so let's do&nbsp;this step-by-step.</span><br>
<span style="font-family: Courier New, Courier, monospace;">First the simplest&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">solution</span><span style="font-family: Courier New, Courier, monospace;">, then the&nbsp;</span><span style="background-color: white; color: #464646; font-family: 'Courier New', Courier, monospace;">O((N+M)*log(M))</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;solution, and the O(M+N) solution.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><b>(1) The simplest solution</b></span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;">The problem suggests the&nbsp;<span style="background-color: white; color: #464646;">O((N+M)*log(M)) time complexity for this problem, and log(M) suggests the binary search is done for M (for the number of nails).</span></span><br>
<span style="font-family: Courier New, Courier, monospace;"><span style="background-color: white; color: #464646;"><br></span></span>
<span style="font-family: 'Courier New', Courier, monospace;">The simplest strategy is to perform the binary search for the required number of nails, and check if all the planks are nailed.</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">The below 
is the simple implementation for this strategy, however while it gets 
the 100% score for the correctness, it gives the 0% performance score; t</span><span style="font-family: Courier New, Courier, monospace;">his is a matter of course. This is not a&nbsp;</span><span style="background-color: white; color: #464646; font-family: 'Courier New', Courier, monospace;">O((N+M)*log(M)) solution.&nbsp;</span><br>
<span style="background-color: white; color: #464646; font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="background-color: white; color: #464646; font-family: 'Courier New', Courier, monospace;">(I guess the time complexity of this code is like O(N * M * log(M)) or so...)</span><br>
<br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-243_002.png" width="400" border="0" height="91"></a></div>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span><br>
<br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">#include &lt;alloca.h&gt;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">#include &lt;memory.h&gt;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">int check(int k, int* nailed, int* A, int* B, int N, int* C, int M)</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">{</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int i;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; for (i = 0; i &lt; k; i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; int j;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; for (j = 0; j &lt; N; j++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (A[j] &lt;= C[i] &amp;&amp; C[i] &lt;= B[j]){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nailed[j] = 1; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; for (i = 0; i &lt; N; i++){ &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (nailed[i] == 0){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return 0;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; return 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">}</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">int solution(int A[], int B[], int N, int C[], int M)</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">{</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int nailed_size = sizeof(int) * N;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int* nailed = (int*)alloca(nailed_size);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int beg = 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int end = M;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int min = M + 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; while(beg &lt;= end){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; int mid = (beg + end) / 2;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; memset(nailed, 0x00, nailed_size);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (check(mid, nailed, A, B, N, C, M)){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end = mid - 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; min = mid;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; else {</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; beg = mid + 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; return min == M + 1 ? -1 : min;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">}</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<b style="font-family: 'Courier New', Courier, monospace;">(2) The O((M+N) * log(M)) solution</b><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">So now we 
know the problem in the previous solution is the time complexity of the 
'check'&nbsp;function, and need some more improvement if the given nails
 can nail all the planks.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">We use the 'prefix_sum' algorithm that we&nbsp;learned in the Lesson 3.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;">First, we 
clear the array, prefix_sum[] with 0, and then add 1 to prefix_sum[i] if
 there is any new nail found at the position 'i'.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Then we compute the prefix_sum for the total number of nails found so far until the position from head to tail.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">When we 
check if there is any nail that can nail each plank, we only have to use
 this prefix_sum; if there is no nail between A[i] and B[i] (within the 
plank 'i'), prefix_sum[B[i]] == prefix_sum[A[i] - 1].</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">The part to 
compute the prefix_sum array is O(M) and the part to check planks is 
O(N). So when combined, the whole time complexity for these two parts is
 O(M+N).</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">As we repeat this by binary search, the whole time complexity of the code is O((M + N) * log(M)), as this problem requires.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">This strategy gives the 100% score.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-1sd5VHQxwk4/VRBpitWoLEI/AAAAAAAAAso/f6owO671Rjs/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.03.08.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-243_003.png" width="400" border="0" height="91"></a></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">#include &lt;alloca.h&gt;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">#include &lt;memory.h&gt;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">int solution(int A[], int B[], int N, int C[], int M)</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">{</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int prefix_sum_size = sizeof(int) * (2 * M + 1);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int* prefix_sum = (int*)alloca(prefix_sum_size);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int beg = 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int end = M;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int answer = -1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; while (beg &lt;= end){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; int mid = (beg + end) / 2;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; memset(prefix_sum, 0x00, prefix_sum_size);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; int i = 0;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; for (i = 0; i &lt; mid; i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefix_sum[C[i]]++;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; for (i = 1; i &lt;= 2 * M; i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; prefix_sum[i] += prefix_sum[i - 1];</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; int failed = 0;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; for (i = 0; i &lt; N; i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (prefix_sum[B[i]] == prefix_sum[A[i] - 1]){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; failed = 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (failed){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; beg = mid + 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; else {</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end = mid - 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; answer = mid;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; </span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; return answer;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">}</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div>
<b style="font-family: 'Courier New', Courier, monospace;">(3) The O(M+N) solution</b><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">I usually google solutions by other people so to see if there is any better solution.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">And found one&nbsp;interesting approach by a Chinese guy here.</span><br>
<a href="http://blog.csdn.net/caopengcs/article/details/41834173"><span style="font-family: Courier New, Courier, monospace;">http://blog.csdn.net/caopengcs/article/details/41834173</span></a><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">As his explanation is entirely written in Chinese, I don't get any meaning, so I read his source code in the above link.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Here is the 
solution I re-coded so to make it more readable. I also added lots of 
the comments. However, the code may not be enough to grasp what is done 
quickly, I add some explanation after the code.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">As we want 
to shorten the code&nbsp;without complicating it by using some data 
structure (double-ended queue), we used C++ (not C as so far) this time 
so to simplify the code.</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;">This code gives the 100% score.&nbsp;</span><br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<br></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-YmPpMJnkiqA/VRBqdiCJpmI/AAAAAAAAAs4/NrfAaCGlVRg/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.03.08.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-243.png" width="400" border="0" height="91"></a></div>
<div class="separator" style="clear: both; text-align: center;">
<br></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">#include &lt;deque&gt;</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">using namespace std;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">int solution(vector&lt;int&gt; &amp;A, vector&lt;int&gt; &amp;B, vector&lt;int&gt; &amp;C)</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">{</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int max_pos = C.size() * 2;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //this vector holds -1 at nail_at[i] if there is no nail at the position i</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //and k (the number of the nail) if there is.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; vector&lt;int&gt; nail_at;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; nail_at.resize(max_pos + 1, -1);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //as two or more nails can be at the same position,</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //we scan C from tail to head so that we can retain the nail with&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //the smallest index at each position.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; for (int i = (int)C.size() - 1; i &gt;= 0; --i){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; nail_at[C[i]] = i;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //this vector holds -1 at plank_end_at[i]</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //if there is no plank ends at the position i,</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //and the beginning position of each plank, if there is.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; vector&lt;int&gt; plank_end_at;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; plank_end_at.resize(max_pos + 1, -1);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; for (unsigned int i = 0; i &lt; B.size(); i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //if there is any two or more planks that end at the same position,</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //we only have to consider the smallest one.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; plank_end_at[B[i]] = max(plank_end_at[B[i]], A[i]);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //a fifo queue to store the nail information.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; deque&lt;int&gt; nail_pos_deque;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //we have checked all the nails until this position</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //if it should be used or not.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int checked_until_here &nbsp;= 0;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int nail_scan_pos &nbsp; &nbsp; &nbsp; = 0;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; //the minimum number of nails &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; int min_nails = -1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; for (int i = 1; i &lt;= max_pos; i++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //there is no plank end at there, just continue scanning.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (plank_end_at[i] == -1){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //there is a plank, but its begining position has been already checked.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //This means that there is al least one plank successfully nailed and</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //this plank can be also nailed together when the plank(s) was nailed.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //so we can simply neglect this plank.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (plank_end_at[i] &lt;= checked_until_here){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //now we need to check if there is any nail that can nail this plank.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //first, we have to discard all those nails in the queue that don't</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //nail this plank.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; checked_until_here = plank_end_at[i];</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; while ((!nail_pos_deque.empty()) &amp;&amp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nail_pos_deque.front() &lt; checked_until_here){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nail_pos_deque.pop_front();</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //nail_scan_pos is the place we scan nails.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //if we found one at nail_at[nail_scan_pos], we put the information</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //into the deque. So all those nails that appear before nail_scan_pos</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //is currently in the queue or already discarded from it.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; nail_scan_pos = max(nail_scan_pos, checked_until_here);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //now 'i' is the end of the plank curretly under examinened.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //so we scan any new nail until this position.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; for ( &nbsp; ; nail_scan_pos &lt;= i; nail_scan_pos++){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //no nail found at the current position, just go ahread.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (nail_at[nail_scan_pos] == - 1){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //found a nail at the current position.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //now, we can discard away any nails that we don't use anymore.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //those nails on the left and with a larger index in C[] will never</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //be required again.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while((!nail_pos_deque.empty()) &amp;&amp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp;
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
&nbsp;nail_at[nail_pos_deque.back()] &gt; nail_at[nail_scan_pos]){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nail_pos_deque.pop_back();</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; nail_pos_deque.push_back(nail_scan_pos);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; //if the queue is empty, there is no nail for this plank.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; if (nail_pos_deque.empty()){</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return -1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; &nbsp; &nbsp; min_nails = max(min_nails, nail_at[nail_pos_deque.front()]);</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; }</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">&nbsp; &nbsp; return min_nails + 1;</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;">}</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Now, let's describe what this code really does.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">First, we prepare the nail_at array. Each cell of this array,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">nail_at[i],</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;is
 associated to the position 'i' and the value at the cell will be -1, if
 there is no nail at the position 'i', or the index of the nail in the 
array C, if there is any nail.&nbsp;</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;">The reason 
why we can the array C from tail to head, is that there can be two or 
more nails&nbsp;at the same position. Clearly, since we want the smaller
 number of nails to use in this problem, we only need the nail with the 
smallest index among them and can neglect other nails at the same 
position.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Then we prepare plank_end_at array. Each cell of this array,&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">plank_end_at[i],</span><span style="font-family: Courier New, Courier, monospace;">&nbsp;is&nbsp;associated
 to the position 'i'&nbsp;similarly. The value of the cell is -1, if 
there is no plank that ends at the position, or the&nbsp;beginning 
position of the plank if there is any plank that ends at the position.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">What if there are two or more planks that ends at the same position?</span><br>
<span style="font-family: Courier New, Courier, monospace;">We only have
 to leave the&nbsp;shorter plank among them (or the plank with the 
largest beginning position ('A[i]') among them).&nbsp;</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;">To understand why this is fair, see the figure below.&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">Clearly,
 any nail that can nail the plank A can nail plank B too. Let's suppose i
 &lt; j. Then, the final answer for this problem is not affected by the 
i-th nail, as the j-th nail must be used&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">anyway
 for the plank B. On the other hand, if j &lt; i, we prefer to use the 
j-th nail for both planks, since using the j-th nail clearly contribute 
to obtain the minimum number of nails. So even if we neglect plank B, 
there is no problem in both cases; this is why we would like to pick up 
the smallest plank among all the planks that share the same end 
position.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-HIrvlO4hGXo/VRCTS-g8kWI/AAAAAAAAAtI/ba2xyiseU-4/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.26.45.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246_005.png" width="400" border="0" height="170"></a></div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div>
<span style="font-family: Courier New, Courier, monospace;"><br></span></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Now, we describe the core&nbsp;part of this algorithm. First, since we scan the plank_end_at[]</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;array</span><span style="font-family: Courier New, Courier, monospace;">&nbsp;from&nbsp;head
 to tail, it can be said that we check planks sorted in the ascending by
 their end positions (though we didn't actually sort anything. However, 
it would be&nbsp;fair to consider the part to prepare 
the&nbsp;plank_end_at[] array as a bucket sort). As we omit some planks 
that&nbsp;share the end position with others, there are only five 
patterns when we&nbsp;arbitrarily pick up two planks. As in the below 
figure.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-Az6YwCDrGzo/VRCTc5URJjI/AAAAAAAAAtQ/ZZ43tVqr054/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.27.05.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246_006.png" width="491" border="0" height="640"></a></div>
<br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Pattern (1): the plank B starts at&nbsp;exactly where the plank A ends o</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Pattern (2):&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">the plank B starts after the end of the plank A with some gap.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Pattern (3):&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">the plank B starts before the beginning position of the plank A.&nbsp;</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">Pattern (4):&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">the plank B starts exactly at the beginning position of the plank A.</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;</span><br>
<div>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span></div>
<span style="font-family: 'Courier New', Courier, monospace;">Pattern (5):&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">the plank B starts after the beginning position of the plank A with some gap.</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">In any of 
the patterns above, after checking the first plank, we want to keep any 
nails that may nail down the next plank. At the same time, after we 
checked the first plank, we can forget any planks that do not contribute
 to check other planks.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">For 
instance, in the&nbsp;pattern (1) and pattern (2), after checking the 
plank A, we can forget any nail whose position is&nbsp;before the 
beginning point of the plank B. As shown in the below figure. Those 
nails of grey in the figure can never nail the plank B. We simply can 
forget about it after we check these.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-72UTCM3s7t8/VRCTsckCL7I/AAAAAAAAAtY/Y0dwIFsExnA/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.28.51.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246.png" width="400" border="0" height="216"></a></div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<span style="font-family: Courier New, Courier, monospace;">How about 
other&nbsp;patterns? In pattern (3), any nail that nail the plank A will
 plank B. So even if we forget any nail before the&nbsp;beginning of the
 plank B, as long as there is any nail that nail plank A nails the plank
 B, as shown in the below figure.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-9WJxMRfpS4E/VRCT9UPuM5I/AAAAAAAAAtg/kppeAd2t1Ys/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.29.59.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246_004.png" width="400" border="0" height="96"></a></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">As already mentioned, what we need is the minimum number of nails that can nail all the plank.&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">So
 even if there is any nail with the smaller index between 
the&nbsp;beginning of the plank B and&nbsp;the&nbsp;beginning&nbsp;and 
of the plank A, or the end of the plank A and the end of the plank B 
(those grey nails in the below figure), these nails won't contribute to 
contribute to the final answer; suppose any of grey nails are with the 
smaller index than the red nail. The plank A must use the red nail 
anyway, so using the red nail instead of&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">grey nails doesn't change the final answer to this problem.</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">This also 
means we can throw away any nails before the&nbsp;beginning positions of
 the plank A, as they won't contribute to the answer. As long as we 
still&nbsp;remember the nails that appears exactly at and after 
the&nbsp;beginning position of the plank A, there is no problem; even 
if&nbsp;we forget any nails that&nbsp;appears before the&nbsp;beginning 
position of the plank A, <b>even</b>&nbsp;<b>when checking the plank A, </b>there won't be any problem.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-nRTvh2ayeFg/VRCUMDTHcjI/AAAAAAAAAto/woepNPHB5LA/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.31.01.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246_002.png" width="400" border="0" height="216"></a></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">In the 
pattern 4 and the pattern 5, as the&nbsp;beginning position of the plank
 B is exactly at or after the&nbsp;beginning position of the plank A, 
even if the nails before the&nbsp;beginning position of the plank A are 
forgotten after&nbsp;checking plank A, it is&nbsp;clear that there is no
 problem, as described in the below figure. It should be noted that 
as&nbsp;shown in the&nbsp;patter 5 of this figure, what is required is 
not to forget those nails exactly at or after the&nbsp;beginning 
position of the plank A, as it may nail the plank B.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">From the 
above discussion, if we check the planks sorted in the ascending order 
by their end positions, it is clear that we can forget any nail that 
appears before the beginning position of the plank that we are currently
 checking.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">We want to 
remember only those nails that might contribute to the final answer, and
 for this purpose, we only have to remember that nails that appears 
after the&nbsp;beginning position of the plank that is currently 
checking. Forgetting the nails that appears before this position do not 
contribute to the answer.</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">To remember 
the nails appear until the current scanning position, we can use the 
double-ended queue. (The reason why it is not simply a FIFO queue is 
discussed from the next paragraph).&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<br>
<br>
<br>
<span style="font-family: Courier New, Courier, monospace;">Now, let's 
discuss which nails we should remember while scanning a plank. We scan 
the plank from the left to the right as in the below figure. Then, we 
found a nail that can nail this plank (see (1) of the below 
figure).&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-zA8WQP1-cw0/VRCW3OpcpfI/AAAAAAAAAt0/eUy8iVczF8s/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B6.42.14.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2015-03-246_003.png" width="348" border="0" height="400"></a></div>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Let's say first we found </span><span style="font-family: 'Courier New', Courier, monospace;">the 7th nail.&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">So
 we put this nail into the queue. &nbsp;Remember just remembering the 
position is okay, as the nail_at[] array can be used as 
a&nbsp;dictionally to get the index of the nail in the array C[] by 
using the position of the nail.&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">This nail may contribute to nail the next plank.</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">Then, we 
keep on&nbsp;scanning to the right, and we found another nail that nails
 this plank, and it was 3rd nail (see (2) in the above figure). Clearly,
 we want to use this nail for this plank, as what we want to obtain is 
the minimum number of nails to be used, which can be picked up from the 
array C[],&nbsp;from its head to tail.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">So we can 
forget 7th now. Why? As we are investigating planks in the ascending 
order sorted by the end positions of the planks, any plank that can be 
nailed down by 7th can be also nailed down by 3rd (since the 3rd nail is
 located to more right than the 7th nail). These &nbsp;planks also 
prefer the 3rd nail. So the 7th nail is now&nbsp;useless.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">We keep on scanning to the right again. We found the 6th nail. Should we keep this nail? Yes, because those&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">planks we scan later that</span><span style="font-family: 'Courier New', Courier, monospace;">&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">can not be nailed by the 3rd nail may be nailed by this 6th nail.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">What should 
we do for the 3rd nail now? We would like to&nbsp;remember it , since if
 the next plank can be nailed by both the 3rd and 6th, we would like to 
use the 3rd as 3 &lt; 7.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">What should 
we do if we found the 5th nail after the 6th nail? Yes, we should 
discard the 6th nails from the queue and instead put the 5th nail, as 
the 5th nail is located more right than&nbsp;the 6th, which means 5th 
nails can nail any plank, which we may check in the future, if it can be
 nailed by the 6th plank. Also we would like to use the nail with the 
smaller index.&nbsp;</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<br>
<div class="separator" style="clear: both; text-align: center;">
<br></div>
<span style="font-family: Courier New, Courier, monospace;">To&nbsp;summarize&nbsp;this, we want to keep the queue with the condition as follows.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">(1) 
the&nbsp;position of the nails put in the queue must be sorted in 
the&nbsp;ascending&nbsp;order by the positions of the nails.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">This is 
important, since we want to forget those nails that appears before 
the&nbsp;beginning of the next plank. We only have to check the head of 
the queue and discard it if the position of the nail is smaller than 
the&nbsp;beginning position of the next plank.&nbsp;</span><br>
<br>
<span style="font-family: Courier New, Courier, monospace;">(2) The index of the nails in the queue should be also in the ascending order.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">First, 
this&nbsp;makes it easy to pick up the nail to be used for this plank. 
If the first nail in the queue after&nbsp;scanning between 
the&nbsp;begging and ending position of the plank has the smallest index
 in the array C[], we only have to check the head of the queue and use 
the position to look up the nail_at[] array to obtain the index of the 
nail at the position.</span><br>
<br>
<br>
<span style="font-family: Courier New, Courier, monospace;">To do this, 
using the double-ended queue is better, because when we discard the 
nails before the&nbsp;beginning position of the current plank, we 
discard from the head of the queue, but when we are checking each plank,
 we discard from the back. Double-ended queue is clearly appropriate for
 such manipulations.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<br>
<br>
<br>
<span style="font-family: Courier New, Courier, monospace;">The above solution implements such a strategy.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">(1) We scan plank_end_at from 0 to M * 2. If there is no plank that ends at the position, we progress to the right.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">(2) If we 
find a new plank that ends&nbsp;at the position, but its beginning 
position is located more left than or the same as the&nbsp;position we 
have checked so far (== the max beginning position of the planks that we
 have checked so far), we can skip this plank;&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">the planks we have so far is already nailed and the nail used for the plank can also nail this plank.&nbsp;</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">See Pattern 3, 4. The nail used for prank A are all included&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">within the plank B.</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">(3) If the&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">beginning position of the next plank is larger than the position we&nbsp;have&nbsp;checked so far&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">(==
 the max beginning position of the planks that we have checked so far), 
then we have to check this plank. (See Pattern 1, 2, 5).</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">However, as 
we&nbsp;know that any nails that appears before the&nbsp;beginning of 
this plank won't contribute to nail this plank and other planks we check
 in the future, we can discard them from the dequeue.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">We also 
would like to update the position we have checked so far, since the 
current plank's beginning position is located right from the old 
position.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">(4) Then, we begin scanning if there is any new nail to nail this plank, while there are some still remain in the queue.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">For example,
 in Pattern 1, there is a nail that located at the end position of the 
plank A, and the plank B also starts from the same position. This nail 
still lives in the queue). For another example, in Pattern 5, the first 
nail in the plank A is already discarded since it is located left to 
the&nbsp;beginning position of the plank B, yet other two nails are 
still in the queue.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">When we 
found a new nail while we are proceeding, we check the last nail in the 
queue (from the back of the queue) and compare it to the new nail, if 
its index is larger than that of the new nail. If so, the old nail in 
the queue will be discarded. We do this until we found no more nail in 
the queue meet this condition.</span><br>
<br>
<br>
<span style="font-family: 'Courier New', Courier, monospace;">(5) Now we
 finished scanning and reached the end position of the current plank. If
 there is no nail that can nail this plank, the queue is empty. So the 
answer will be -1 (we can't nail all the planks even when using all the 
nails).</span><br>
<span style="font-family: 'Courier New', Courier, monospace;"><br></span>
<span style="font-family: 'Courier New', Courier, monospace;">(6) If the queue is not empty, the first nail in the head of the queue has the smallest&nbsp;</span><span style="font-family: Courier New, Courier, monospace;">index
 number among all the nails that can be used to nail this plank. we pick
 this up and update the min number of the nails, if it is bigger than 
the current one.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">(7) 
After&nbsp;scanning from head to tail of panks_end_at[], we add one to 
min_nails, as we used the index no. (remember that the array is zero 
indexed and the min_nails contains the&nbsp;index of the array C[].)</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">This is what we do in the above solution.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Now, let's see the time complexity of the above algorithm.</span><br>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace; font-size: x-small;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">The time 
complexity the first loop to make the nail_at array depends on M and 
that of the second loop to make the plank_end_at array depends on 
N.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">As for the 
last nested loops, the outer loop depends on M.&nbsp;The inner 
while-loops to pop the dequeue won't repeat more than M times (as this 
dequeue just added the nails, at most just one time for each nail and 
some nails won't be added). The repetition of the while loops are 
not&nbsp;dependent on the outer loop.&nbsp;</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Similarly, 
the inner for-loop just repeat M times, independently from the outer 
loop. The outer loop only defines the upper limit of the loop, and 
nail_scan_pos just keep on increasing from 0 to max_pos, and never 
decreases.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">So as for this part, the whole time complexity just depends on M.</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
<span style="font-family: Courier New, Courier, monospace;">Combining&nbsp;these three parts gives the time complexity of O(M+N).</span><br>
<span style="font-family: Courier New, Courier, monospace;"><br></span>
</div>
<div style="clear: both;"></div>
</div>
<div class="post-footer">
<div class="post-footer-line post-footer-line-1">
<span class="post-author vcard">
投稿者
<span class="fn" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person">
<span itemprop="name">HRK</span>
</span>
</span>
<span class="post-timestamp">
時刻:
<meta content="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html" itemprop="url">
<a class="timestamp-link" href="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html" rel="bookmark" title="permanent link"><abbr class="published" itemprop="datePublished" title="2015-03-24T08:32:00+09:00">8:32</abbr></a>
</span>
<span class="reaction-buttons">
</span>
<span class="post-comment-link">
</span>
<span class="post-backlinks post-comment-link">
</span>
<span class="post-icons">
<span class="item-control blog-admin pid-1956780779">
<a href="https://www.blogger.com/post-edit.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;from=pencil" title="投稿を編集">
<img alt="" class="icon-action" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/icon18_edit_allbkg.gif" width="18" height="18">
</a>
</span>
</span>
<div class="post-share-buttons goog-inline-block">
<a class="goog-inline-block share-button sb-email" href="https://www.blogger.com/share-post.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;target=email" target="_blank" title="メールで送信"><span class="share-button-link-text">メールで送信</span></a><a class="goog-inline-block share-button sb-blog" href="https://www.blogger.com/share-post.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;target=blog" onclick='window.open(this.href, "_blank", "height=270,width=475"); return false;' target="_blank" title="BlogThis!"><span class="share-button-link-text">BlogThis!</span></a><a class="goog-inline-block share-button sb-twitter" href="https://www.blogger.com/share-post.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;target=twitter" target="_blank" title="Twitter で共有する"><span class="share-button-link-text">Twitter で共有する</span></a><a class="goog-inline-block share-button sb-facebook" href="https://www.blogger.com/share-post.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;target=facebook" onclick='window.open(this.href, "_blank", "height=430,width=640"); return false;' target="_blank" title="Facebook で共有する"><span class="share-button-link-text">Facebook で共有する</span></a><a class="goog-inline-block share-button sb-pinterest" href="https://www.blogger.com/share-post.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;target=pinterest" target="_blank" title="Pinterest に共有"><span class="share-button-link-text">Pinterest に共有</span></a><div class="goog-inline-block google-plus-share-container"><div style="text-indent: 0px; margin: 0px; padding: 0px; background: transparent none repeat scroll 0% 0%; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 32px; height: 20px;" id="___plusone_0"><iframe ng-non-bindable="" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 32px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" id="I0_1509170501227" name="I0_1509170501227" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/fastbutton.htm" data-gapiattached="true" title="G+" width="100%" frameborder="0"></iframe></div></div>
</div>
</div>
<div class="post-footer-line post-footer-line-2">
<span class="post-labels">
</span>
</div>
<div class="post-footer-line post-footer-line-3">
<span class="post-location">
</span>
</div>
</div>
</div>
<div class="comments" id="comments">
<a name="comments"></a>
<h4>2 件のコメント:</h4>
<div class="comments-content">
<script async="async" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/comments.js" type="text/javascript"></script>
<script type="text/javascript">
    (function() {
      var items = [{'id': '470178176288357722', 'body': 'Nice and detailed explanation, thanks. I also came to a solution with linear complexity. In my solution I first discard all planks that completely wrap other planks, because a nail used for a wrapped plank can be used for all planks that wrap it.\x3cbr /\x3e\x3cbr /\x3eMore details at: http://draganbozanovic.blogspot.rs/2016/04/codility-nailingplanks-linear-complexity.html', 'timestamp': '1460915401077', 'permalink': 'http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html?showComment\x3d1460915401077#c470178176288357722', 'author': {'name': 'Dragan Bozanovic', 'avatarUrl': '//lh3.googleusercontent.com/-tmKKxqi3Cc4/AAAAAAAAAAI/AAAAAAAAAAA/2pXC1erO9vI/s35-c/photo.jpg', 'profileUrl': 'https://www.blogger.com/profile/16950429787331259917'}, 'displayTime': '2016年4月18日 2:50', 'deleteclass': 'item-control blog-admin pid-1803609151'}, {'id': '7619524168984605936', 'body': 'Very nice explanation! I had hard time to understand the prefix sum :D\x3cbr /\x3e', 'timestamp': '1485790327172', 'permalink': 'http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html?showComment\x3d1485790327172#c7619524168984605936', 'author': {'name': 'Dev', 'avatarUrl': '//lh3.googleusercontent.com/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-SA\x3ds35', 'profileUrl': 'https://www.blogger.com/profile/02534245887147535447'}, 'displayTime': '2017年1月31日 0:32', 'deleteclass': 'item-control blog-admin pid-1854178914'}];
      var msgs = {'loadMore': 'もっと読み込む...', 'loading': '読込中...', 'loaded': 'これ以上はありません&#12290;', 'addComment': 'コメントを追加', 'reply': '返信', 'delete': '削除'};
      var config = {'blogId': '8617569552440479380', 'postId': '4594736300715258775', 'feed': 'http://codility-lessons.blogspot.com/feeds/4594736300715258775/comments/default', 'authorName': 'HRK', 'authorUrl': 'https://www.blogger.com/profile/04687597714693288032', 'baseUri': 'https://www.blogger.com', 'maxThreadDepth': 2};

// <![CDATA[
      var cursor = null;
      if (items && items.length > 0) {
        cursor = parseInt(items[items.length - 1].timestamp) + 1;
      }

      var bodyFromEntry = function(entry) {
        if (entry.gd$extendedProperty) {
          for (var k in entry.gd$extendedProperty) {
            if (entry.gd$extendedProperty[k].name == 'blogger.contentRemoved') {
              return '<span class="deleted-comment">' + entry.content.$t + '</span>';
            }
          }
        }
        return entry.content.$t;
      }

      var parse = function(data) {
        cursor = null;
        var comments = [];
        if (data && data.feed && data.feed.entry) {
          for (var i = 0, entry; entry = data.feed.entry[i]; i++) {
            var comment = {};
            // comment ID, parsed out of the original id format
            var id = /blog-(\d+).post-(\d+)/.exec(entry.id.$t);
            comment.id = id ? id[2] : null;
            comment.body = bodyFromEntry(entry);
            comment.timestamp = Date.parse(entry.published.$t) + '';
            if (entry.author && entry.author.constructor === Array) {
              var auth = entry.author[0];
              if (auth) {
                comment.author = {
                  name: (auth.name ? auth.name.$t : undefined),
                  profileUrl: (auth.uri ? auth.uri.$t : undefined),
                  avatarUrl: (auth.gd$image ? auth.gd$image.src : undefined)
                };
              }
            }
            if (entry.link) {
              if (entry.link[2]) {
                comment.link = comment.permalink = entry.link[2].href;
              }
              if (entry.link[3]) {
                var pid = /.*comments\/default\/(\d+)\?.*/.exec(entry.link[3].href);
                if (pid && pid[1]) {
                  comment.parentId = pid[1];
                }
              }
            }
            comment.deleteclass = 'item-control blog-admin';
            if (entry.gd$extendedProperty) {
              for (var k in entry.gd$extendedProperty) {
                if (entry.gd$extendedProperty[k].name == 'blogger.itemClass') {
                  comment.deleteclass += ' ' + entry.gd$extendedProperty[k].value;
                } else if (entry.gd$extendedProperty[k].name == 'blogger.displayTime') {
                  comment.displayTime = entry.gd$extendedProperty[k].value;
                }
              }
            }
            comments.push(comment);
          }
        }
        return comments;
      };

      var paginator = function(callback) {
        if (hasMore()) {
          var url = config.feed + '?alt=json&v=2&orderby=published&reverse=false&max-results=50';
          if (cursor) {
            url += '&published-min=' + new Date(cursor).toISOString();
          }
          window.bloggercomments = function(data) {
            var parsed = parse(data);
            cursor = parsed.length < 50 ? null
                : parseInt(parsed[parsed.length - 1].timestamp) + 1
            callback(parsed);
            window.bloggercomments = null;
          }
          url += '&callback=bloggercomments';
          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = url;
          document.getElementsByTagName('head')[0].appendChild(script);
        }
      };
      var hasMore = function() {
        return !!cursor;
      };
      var getMeta = function(key, comment) {
        if ('iswriter' == key) {
          var matches = !!comment.author
              && comment.author.name == config.authorName
              && comment.author.profileUrl == config.authorUrl;
          return matches ? 'true' : '';
        } else if ('deletelink' == key) {
          return config.baseUri + '/delete-comment.g?blogID='
               + config.blogId + '&postID=' + comment.id;
        } else if ('deleteclass' == key) {
          return comment.deleteclass;
        }
        return '';
      };

      var replybox = null;
      var replyUrlParts = null;
      var replyParent = undefined;

      var onReply = function(commentId, domId) {
        if (replybox == null) {
          // lazily cache replybox, and adjust to suit this style:
          replybox = document.getElementById('comment-editor');
          if (replybox != null) {
            replybox.height = '250px';
            replybox.style.display = 'block';
            replyUrlParts = replybox.src.split('#');
          }
        }
        if (replybox && (commentId !== replyParent)) {
          replybox.src = '';
          document.getElementById(domId).insertBefore(replybox, null);
          replybox.src = replyUrlParts[0]
              + (commentId ? '&parentID=' + commentId : '')
              + '#' + replyUrlParts[1];
          replyParent = commentId;
        }
      };

      var hash = (window.location.hash || '#').substring(1);
      var startThread, targetComment;
      if (/^comment-form_/.test(hash)) {
        startThread = hash.substring('comment-form_'.length);
      } else if (/^c[0-9]+$/.test(hash)) {
        targetComment = hash.substring(1);
      }

      // Configure commenting API:
      var configJso = {
        'maxDepth': config.maxThreadDepth
      };
      var provider = {
        'id': config.postId,
        'data': items,
        'loadNext': paginator,
        'hasMore': hasMore,
        'getMeta': getMeta,
        'onReply': onReply,
        'rendered': true,
        'initComment': targetComment,
        'initReplyThread': startThread,
        'config': configJso,
        'messages': msgs
      };

      var render = function() {
        if (window.goog && window.goog.comments) {
          var holder = document.getElementById('comment-holder');
          window.goog.comments.render(holder, provider);
        }
      };

      // render now, or queue to render when library loads:
      if (window.goog && window.goog.comments) {
        render();
      } else {
        window.goog = window.goog || {};
        window.goog.comments = window.goog.comments || {};
        window.goog.comments.loadQueue = window.goog.comments.loadQueue || [];
        window.goog.comments.loadQueue.push(render);
      }
    })();
// ]]>
  </script>
<div id="comment-holder">

<div id="bc_0_3C" kind="c"><div id="bc_0_3CT"><div id="bc_0_2T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_2TB"><li id="bc_0_0B" class="comment" kind="b"><div class="avatar-image-container"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/photo.jpg"></div><div id="c470178176288357722" class="comment-block"><div id="bc_0_0M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/16950429787331259917">Dragan Bozanovic</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html?showComment=1460915401077#c470178176288357722">2016年4月18日 2:50</a></span></div><p id="bc_0_0MC" class="comment-content">Nice
 and detailed explanation, thanks. I also came to a solution with linear
 complexity. In my solution I first discard all planks that completely 
wrap other planks, because a nail used for a wrapped plank can be used 
for all planks that wrap it.<br><br>More details at: http://draganbozanovic.blogspot.rs/2016/04/codility-nailingplanks-linear-complexity.html</p><span id="bc_0_0MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">返信</a><span class="item-control blog-admin pid-1803609151"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=8617569552440479380&amp;postID=470178176288357722">削除</a></span></span></div><div id="bc_0_0BR" class="comment-replies"></div><div id="bc_0_0B_box" class="comment-replybox-single"></div></li><li id="bc_0_1B" class="comment" kind="b"><div class="avatar-image-container"><img src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/zFdxGE77vvD2w5xHy6jkVuElKv-U9_9qLkRYK8OnbDeJPtjSZ82UPq5w6hJ-.png"></div><div id="c7619524168984605936" class="comment-block"><div id="bc_0_1M" class="comment-header" kind="m"><cite class="user"><a rel="nofollow" href="https://www.blogger.com/profile/02534245887147535447">Dev</a></cite><span class="icon user"></span><span class="datetime secondary-text"><a rel="nofollow" href="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html?showComment=1485790327172#c7619524168984605936">2017年1月31日 0:32</a></span></div><p id="bc_0_1MC" class="comment-content">Very nice explanation! I had hard time to understand the prefix sum :D<br></p><span id="bc_0_1MN" class="comment-actions secondary-text" kind="m"><a kind="i" href="javascript:;" target="_self" o="r">返信</a><span class="item-control blog-admin pid-1854178914"><a o="d" target="_self" href="https://www.blogger.com/delete-comment.g?blogID=8617569552440479380&amp;postID=7619524168984605936">削除</a></span></span></div><div id="bc_0_1BR" class="comment-replies"></div><div id="bc_0_1B_box" class="comment-replybox-single"></div></li></ol><div id="bc_0_2I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">コメントを追加</a></div><div id="bc_0_2T_box" class="comment-replybox-thread"><iframe allowtransparency="true" class="blogger-iframe-colorize blogger-comment-from-post" id="comment-editor" name="comment-editor" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/comment-iframe.htm" style="display: block;" data-resized="true" width="100%" height="215px" frameborder="0"></iframe></div><div id="bc_0_2L" class="loadmore loaded" kind="rb"><a href="javascript:;" target="_self">もっと読み込む...</a></div></div></div></div></div>
</div>
<p class="comment-footer">
</p><div class="comment-form">
<a name="comment-form"></a>
<p>
</p>
<a href="https://www.blogger.com/comment-iframe.g?blogID=8617569552440479380&amp;postID=4594736300715258775&amp;blogspotRpcToken=9588114" id="comment-editor-src"></a>

<script src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/645330703-comment_from_post_iframe.js" type="text/javascript"></script>
<script type="text/javascript">
      BLOG_CMT_createIframe('https://www.blogger.com/rpc_relay.html');
    </script>
</div>
<p></p>
<div id="backlinks-container">
<div id="Blog1_backlinks-container">
</div>
</div>
</div>
</div>
<div class="inline-ad">
<script type="text/javascript">
    google_ad_client = "ca-pub-2928153500630213";
    google_ad_host = "ca-host-pub-1556223355139109";
    google_ad_host_channel = "L0007";
    google_ad_slot = "7003849189";
    google_ad_width = 300;
    google_ad_height = 250;
</script>
<!-- codility-lessons_main_Blog1_300x250_as -->
<script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/show_ads.js">
</script>
</div>

        </div></div>
      
</div>
<div class="blog-pager" id="blog-pager">
<span id="blog-pager-newer-link">
<a class="blog-pager-newer-link" href="http://codility-lessons.blogspot.com/2015/03/lesson-13-absdistinct-abs-distinct.html" id="Blog1_blog-pager-newer-link" title="次の投稿">次の投稿</a>
</span>
<span id="blog-pager-older-link">
<a class="blog-pager-older-link" href="http://codility-lessons.blogspot.com/2015/03/lesson-12-minmaxdivision-min-max.html" id="Blog1_blog-pager-older-link" title="前の投稿">前の投稿</a>
</span>
<a class="home-link" href="http://codility-lessons.blogspot.com/">ホーム</a>
</div>
<div class="clear"></div>
<div class="post-feeds">
<div class="feed-links">
登録:
<a class="feed-link" href="http://codility-lessons.blogspot.com/feeds/4594736300715258775/comments/default" target="_blank" type="application/atom+xml">コメントの投稿 (Atom)</a>
</div>
</div>
<script type="text/javascript">
    window.___gcfg = { 'lang': 'ja' };
  </script>
</div></div>
</div>
</div>
<div class="column-left-outer">
<div class="column-left-inner">
<aside>
</aside>
</div>
</div>
<div class="column-right-outer">
<div class="column-right-inner">
<aside>
<div class="sidebar section" id="sidebar-right-1"><div class="widget AdSense" data-version="1" id="AdSense1">
<div class="widget-content">
<script type="text/javascript">
    google_ad_client = "ca-pub-2928153500630213";
    google_ad_host = "ca-host-pub-1556223355139109";
    google_ad_host_channel = "L0001";
    google_ad_slot = "8480582381";
    google_ad_width = 250;
    google_ad_height = 250;
</script>
<!-- codility-lessons_sidebar-right-1_AdSense1_250x250_as -->
<script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/show_ads.js">
</script>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=8617569552440479380&amp;widgetType=AdSense&amp;widgetId=AdSense1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("AdSense1"));' target="configAdSense1" title="編集">
<img alt="" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div>
<div class="widget BlogArchive" data-version="1" id="BlogArchive1">
<h2>ブログ アーカイブ</h2>
<div class="widget-content">
<div id="ArchiveList">
<div id="BlogArchive1_ArchiveList">
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2015/">
2015
</a>
<span class="post-count" dir="ltr">(35)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2015/04/">
4月
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate expanded">
<a class="toggle" href="javascript:void(0)">
<span class="zippy toggle-open">

        ▼&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2015/03/">
3月
</a>
<span class="post-count" dir="ltr">(23)</span>
<ul class="posts">
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-15-numbersolitaire-number.html">Lesson 15: NumberSolitaire (Number Solitaire)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-14-tieropes-tie-ropes.html">Lesson 14: TieRopes (Tie Ropes)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-14-maxnonoverlappingsegments-max.html">Lesson 14: MaxNonoverlappingSegments (Max Non-over...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-13-counttriangles-count-triangles.html">Lesson 13: CountTriangles (Count Triangles)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-13-minabssumoftwo.html">Lesson 13:   MinAbsSumOfTwo (Min Abs Sum Of Two)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-13-countdistinctslicescount.html">Lesson 13:  CountDistinctSlices　(Count Distinct Sl...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-13-absdistinct-abs-distinct.html">Lesson 13: AbsDistinct (abs distinct)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html">Lesson 12:  NailingPlanks (Nailing Planks)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-12-minmaxdivision-min-max.html">Lesson 12: MinMaxDivision (Min Max Division)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-11-fibfrog-fib-frog.html">Lesson 11: FibFrog (Fib Frog)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-11-ladder-ladder.html">Lesson 11: Ladder (Ladder)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-10-commonprimedivisors.html">Lesson 10: CommonPrimeDivisors (Common Prime Divis...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-10-chocolatesbynumbers.html">Lesson 10:  ChocolatesByNumbers (Chocolates by Num...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-9-countnondivisible.html">Lesson 9: CountNonDivisible (Count Non Divisible)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-9-countsemiprimes.html">Lesson 9: CountSemiprimes - (Count Semiprimes)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-8-flags.html">Lesson 8: Flags (Flags)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-8-peaks.html">Lesson 8: Peaks (Peaks)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-8-countfactors.html">Lesson 8: CountFactors (Count Factors)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-8-minperimeterrectangle.html">Lesson 8: MinPerimeterRectangle (Min Perimeter Rec...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-7-max-double-slice-sum.html">Lesson 7: MaxDoubleSliceSum (Max Double Slice Sum)...</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-7-maxslicesum.html">Lesson 7: MaxSliceSum (Max Slice Sum)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-7-maxprofit.html">Lesson 7: MaxProfit (Max Profit)</a></li>
<li><a href="http://codility-lessons.blogspot.com/2015/03/lesson-6-dominator.html">Lesson 6: Dominator (Dominator)</a></li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2015/02/">
2月
</a>
<span class="post-count" dir="ltr">(6)</span>
</li>
</ul>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2014/">
2014
</a>
<span class="post-count" dir="ltr">(14)</span>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2014/07/">
7月
</a>
<span class="post-count" dir="ltr">(10)</span>
</li>
</ul>
<ul class="hierarchy">
<li class="archivedate collapsed">
<a class="toggle" href="javascript:void(0)">
<span class="zippy">

        ►&nbsp;
      
</span>
</a>
<a class="post-count-link" href="http://codility-lessons.blogspot.com/2014/04/">
4月
</a>
<span class="post-count" dir="ltr">(4)</span>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=8617569552440479380&amp;widgetType=BlogArchive&amp;widgetId=BlogArchive1&amp;action=editWidget&amp;sectionId=sidebar-right-1" onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target="configBlogArchive1" title="編集">
<img alt="" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div>
</div></div>
</aside>
</div>
</div>
</div>
<div style="clear: both"></div>
<!-- columns -->
</div>
<!-- main -->
</div>
</div>
<div class="main-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
<footer>
<div class="footer-outer">
<div class="footer-cap-top cap-top">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
<div class="fauxborder-left footer-fauxborder-left">
<div class="fauxborder-right footer-fauxborder-right"></div>
<div class="region-inner footer-inner">
<div class="foot no-items section" id="footer-1"></div>
<table class="section-columns columns-2" cellspacing="0" cellpadding="0" border="0">
<tbody>
<tr>
<td class="first columns-cell">
<div class="foot no-items section" id="footer-2-1"></div>
</td>
<td class="columns-cell">
<div class="foot no-items section" id="footer-2-2"></div>
</td>
</tr>
</tbody>
</table>
<!-- outside of the include in order to lock Attribution widget -->
<div class="foot section" id="footer-3" name="フッター"><div class="widget Attribution" data-version="1" id="Attribution1">
<div class="widget-content" style="text-align: center;">
「シンプル」テーマ. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.
</div>
<div class="clear"></div>
<span class="widget-item-control">
<span class="item-control blog-admin">
<a class="quickedit" href="http://www.blogger.com/rearrange?blogID=8617569552440479380&amp;widgetType=Attribution&amp;widgetId=Attribution1&amp;action=editWidget&amp;sectionId=footer-3" onclick='return _WidgetManager._PopupConfig(document.getElementById("Attribution1"));' target="configAttribution1" title="編集">
<img alt="" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/icon18_wrench_allbkg.png" width="18" height="18">
</a>
</span>
</span>
<div class="clear"></div>
</div></div>
</div>
</div>
<div class="footer-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</footer>
<!-- content -->
</div>
</div>
<div class="content-cap-bottom cap-bottom">
<div class="cap-left"></div>
<div class="cap-right"></div>
</div>
</div>
</div>
<script type="text/javascript">
    window.setTimeout(function() {
        document.body.className = document.body.className.replace('loading', '');
      }, 10);
  </script>
<script src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/plusone.js" type="text/javascript" gapi_processed="true"></script>

<script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/2730144155-widgets.js"></script>
<script type="text/javascript">
window['__wavt'] = 'AOuZoY4ndg3Y2gCP2K5flDFx9ZH2ZaWn_w:1508868876511';_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d8617569552440479380','//codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html','8617569552440479380');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '8617569552440479380', 'title': 'Codility and other programming lessons', 'url': 'http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html', 'canonicalUrl': 'http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html', 'homepageUrl': 'http://codility-lessons.blogspot.com/', 'searchUrl': 'http://codility-lessons.blogspot.com/search', 'canonicalHomepageUrl': 'http://codility-lessons.blogspot.com/', 'blogspotFaviconUrl': 'http://codility-lessons.blogspot.com/favicon.ico', 'bloggerUrl': 'https://www.blogger.com', 'hasCustomDomain': false, 'httpsEnabled': true, 'enabledCommentProfileImages': true, 'gPlusViewType': 'FILTERED_POSTMOD', 'adultContent': false, 'analyticsAccountNumber': '', 'encoding': 'UTF-8', 'locale': 'ja', 'localeUnderscoreDelimited': 'ja', 'languageDirection': 'ltr', 'isPrivate': false, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'feedLinks': '\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Codility and other programming lessons - Atom\x22 href\x3d\x22http://codility-lessons.blogspot.com/feeds/posts/default\x22 /\x3e\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/rss+xml\x22 title\x3d\x22Codility and other programming lessons - RSS\x22 href\x3d\x22http://codility-lessons.blogspot.com/feeds/posts/default?alt\x3drss\x22 /\x3e\n\x3clink rel\x3d\x22service.post\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Codility and other programming lessons - Atom\x22 href\x3d\x22https://www.blogger.com/feeds/8617569552440479380/posts/default\x22 /\x3e\n\n\x3clink rel\x3d\x22alternate\x22 type\x3d\x22application/atom+xml\x22 title\x3d\x22Codility and other programming lessons - Atom\x22 href\x3d\x22http://codility-lessons.blogspot.com/feeds/4594736300715258775/comments/default\x22 /\x3e\n', 'meTag': '', 'openIdOpTag': '', 'adsenseClientId': 'ca-pub-2928153500630213', 'adsenseHostId': 'ca-host-pub-1556223355139109', 'adsenseHasAds': true, 'ieCssRetrofitLinks': '\x3c!--[if IE]\x3e\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22https://www.blogger.com/static/v1/jsbin/3858758734-ieretrofit.js\x22\x3e\x3c/script\x3e\n\x3c![endif]--\x3e', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/a0ff9c4e26f0f32f', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sharing': {'platforms': [{'name': 'リンクを取得', 'key': 'link', 'shareMessage': 'リンクを取得', 'target': ''}, {'name': 'Facebook', 'key': 'facebook', 'shareMessage': 'Facebook で共有', 'target': 'facebook'}, {'name': 'BlogThis!', 'key': 'blogThis', 'shareMessage': 'BlogThis!', 'target': 'blog'}, {'name': 'Twitter', 'key': 'twitter', 'shareMessage': 'Twitter で共有', 'target': 'twitter'}, {'name': 'Pinterest', 'key': 'pinterest', 'shareMessage': 'Pinterest で共有', 'target': 'pinterest'}, {'name': 'Google+', 'key': 'googlePlus', 'shareMessage': 'Google+ で共有', 'target': 'googleplus'}, {'name': 'メール', 'key': 'email', 'shareMessage': 'メール', 'target': 'email'}], 'googlePlusShareButtonWidth': 300, 'googlePlusBootstrap': '\x3cscript type\x3d\x22text/javascript\x22\x3ewindow.___gcfg \x3d {\x27lang\x27: \x27ja\x27};\x3c/script\x3e'}, 'hasCustomJumpLinkMessage': false, 'jumpLinkMessage': '続きを読む', 'pageType': 'item', 'postId': '4594736300715258775', 'postImageThumbnailUrl': 'http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/s72-c/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png', 'postImageUrl': 'http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png', 'pageName': 'Lesson 12:  NailingPlanks (Nailing Planks)', 'pageTitle': 'Codility and other programming lessons: Lesson 12:  NailingPlanks (Nailing Planks)'}}, {'name': 'features', 'data': {'lazy_images': 'false', 'unsupported_browser_message': 'false', 'lightbox_img_parsing': 'true', 'video_theatre_support': 'true', 'sharing_get_link_dialog': 'false', 'sharing_native': 'false'}}, {'name': 'messages', 'data': {'edit': '編集', 'linkCopiedToClipboard': 'リンクをクリップボードにコピーしました&#12290;', 'ok': 'OK', 'postLink': '投稿のリンク'}}, {'name': 'template', 'data': {'name': 'Simple', 'localizedName': 'シンプル', 'isResponsive': false, 'isAlternateRendering': false, 'isCustom': false, 'variant': 'bold', 'variantId': 'bold'}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\x3dclassic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\x3dflipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\x3dmagazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\x3dmosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\x3dsidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\x3dsnapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\x3dtimeslide'}, 'isMobile': false, 'title': 'Lesson 12:  NailingPlanks (Nailing Planks)', 'description': 'Lesson 12: &#160;NailingPlanks  https://codility.com/programmers/lessons/12   This is a tough question, so let\x27s do&#160;this step-by-step.  First the...', 'featuredImage': 'http://3.bp.blogspot.com/-iH-kjV57VX0/VRBmO9S-XtI/AAAAAAAAAsc/m6jyja4g708/s1600/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%2B2015-03-24%2B3.11.58.png', 'url': 'http://codility-lessons.blogspot.com/2015/03/lesson-11-nailingplanks-nailing-planks.html', 'type': 'item', 'isSingleItem': true, 'isMultipleItems': false, 'isError': false, 'isPage': false, 'isPost': true, 'isHomepage': false, 'isArchive': false, 'isLabelSearch': false, 'postId': 4594736300715258775}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_HeaderView', new _WidgetInfo('Header1', 'header', null, document.getElementById('Header1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogView', new _WidgetInfo('Blog1', 'main', null, document.getElementById('Blog1'), {'cmtInteractionsEnabled': false, 'useNgc': false, 'lightboxEnabled': true, 'lightboxModuleUrl': 'https://www.blogger.com/static/v1/jsbin/80252593-lbx__ja.js', 'lightboxCssUrl': 'https://www.blogger.com/static/v1/v-css/368954415-lightbox_bundle.css'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AdSenseView', new _WidgetInfo('AdSense1', 'sidebar-right-1', null, document.getElementById('AdSense1'), {}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_BlogArchiveView', new _WidgetInfo('BlogArchive1', 'sidebar-right-1', null, document.getElementById('BlogArchive1'), {'languageDirection': 'ltr', 'loadingMessage': '読み込み中\x26hellip;'}, 'displayModeFull'));
_WidgetManager._RegisterWidget('_AttributionView', new _WidgetInfo('Attribution1', 'footer-3', null, document.getElementById('Attribution1'), {}, 'displayModeFull'));
</script>

<iframe name="oauth2relay819671788" id="oauth2relay819671788" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/postmessageRelay.htm" style="width: 1px; height: 1px; position: absolute; top: -100px;" tabindex="-1" aria-hidden="true"></iframe><link type="text/css" rel="stylesheet" href="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/368954415-lightbox_bundle.css"><script type="text/javascript" src="Codility%20and%20other%20programming%20lessons%20%20Lesson%2012%20%20NailingPlanks%20%28Nailing%20Planks%29_files/80252593-lbx__ja.js"></script></body></html>